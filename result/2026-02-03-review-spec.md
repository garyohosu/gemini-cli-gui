# Spec Review Result (2026-02-03)

## Findings

### Critical
- 安全境界の仕様が抽象的で、Windows での抜け道に対する明示ルールが不足。`WorkspaceSandbox` の許可/拒否規則に、パス正規化、相対パス解決、ドライブレター/UNC/長いパス、再解析ポイント（シンボリックリンク/ジャンクション/マウントポイント）などの扱いが明文化されていない。ここが曖昧だと v1 の最重要要件が満たせない。 

### Major
- Gemini 出力の operations 形式が「YAML 風→JSON Schema へ移行」程度で、v1 の厳密仕様がない。必須/任意フィールド、文字エスケープ、バイナリや大容量の扱い、エラー時の取り扱い、バージョニング/互換性方針が不明。
- 破壊的操作の定義と承認条件が曖昧。「どの操作が破壊的か」「どの条件で必ず承認か（例: ファイル数/サイズ/拡張子/バイナリ）」が定義されていない。
- ログ・バックアップの保存先と保護要件が揺れている（ワークスペース内 vs アプリ用データフォルダ）。アクセス権・削除方針・PII/キーのマスキング基準を明文化する必要がある。
- 実用速度の受け入れ条件が定性的。MVP/v1 での目標値（初回/通常のタイムアウト、操作プレビュー生成の許容時間など）を数値化しないと検証不能。

### Minor
- 用語の揺れ: `gemini-cli-gui` と `CodexGUI` の記載が混在し、ドキュメントの対象が混乱する。
- 例示リンクが本文埋め込みで散らばっており、更新が難しい。参考セクションに集約した方が保守性が高い。

## Questions
1. `WorkspaceSandbox` の厳密な規則は？ 例: パス正規化の手順、許可されるパスの定義、再解析ポイント・UNC・長いパスの扱い。
2. operations の正式な v1 仕様（必須/任意フィールド、文字エスケープ、バイナリ/大容量の扱い、パース失敗時の動作、スキーマのバージョニング戦略）は？
3. 「破壊的操作」の定義と承認ルール（例: write 上書きは常に承認、一定サイズ以上は必須など）は？
4. ログ/バックアップの保存先はどちらが正式か（ワークスペース内 or アプリ用データフォルダ）？ その理由は？
5. 受け入れ条件の「実用速度」を数値化するとしたら、初回/通常/長時間操作の目標値は？
