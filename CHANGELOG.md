# Changelog

## 2026-02-05
- Tag v0.1.0 - Initial release with GUI, Gemini CLI integration, workspace sandbox, and approval workflow.
- Document workspace validation bug (HTTP 400) in instructions/2026-02-05-workspace-validation-bug.md.
- Fix HTTP 400 error when selecting workspace different from server CWD (#14).
- Add Exit menu item to File menu (#16).
- Implement persistent Gemini CLI process using pywinpty for faster responses (#17).
- Document ANSI escape sequences bug in GeminiRunner output in instructions/2026-02-05-ansi-escape-bug.md.
- Enhance ANSI stripping in GeminiRunner to handle more UI patterns (#19).
- Fix ANSI escape sequences bug with comprehensive stripping in GeminiRunner (#19).
- Add mandatory testing requirements and multi-agent collaboration rules to AGENTS.md.
- Add CLI verification workflow requirement to AGENTS.md - test with CLI before GUI integration.
- Add git conflict resolution guide for Codex (HOW_TO_HANDLE_GIT_CONFLICTS.md).
- Add detailed CLI verification workflow guide (2026-02-05_CLI_VERIFICATION_FIRST.md).
- Add verification script scripts/verify_gemini_tty.py for CLI testing (by Local Codex).
- Create detailed implementation guide for response extraction fix in instructions/2026-02-05-fix-clean-response.md (#22).
- Add instructions/README.md and result/README.md for workflow clarity.
- Create executable task instruction in instructions/2026-02-05_EXECUTE_THIS.md for Codex.
- Add pyte terminal emulator fix guide (2026-02-05_FIX_WITH_PYTE.md) - solution for clean_len=0 issue.
- Add simplified execution guide for pyte fix (EXECUTE_PYTE_FIX.md) with inline instructions.
- Add response extraction state machine, UI filtering helper, and debug logging in GeminiRunner.
- Update verification artifacts for clean response extraction in result/2026-02-05_clean-response-fix*.md/.txt.
- Add task instruction record in instructions/2026-02-05_clean-response-fix-execution.md.
- Add pyte dependency to requirements.txt for terminal emulation.
- Update GeminiRunner to use pyte screen restoration for response extraction.
- Record pyte fix execution summary in instructions/2026-02-05_execute-pyte-fix.md.
- Record pyte fix run results in result/2026-02-05_execute-pyte-fix.md and result/2026-02-05_pyte_fix_verification.md.
- Record pull/execute attempt for missing FIX_WITH_PYTE instruction in instructions/2026-02-05_pull-and-fix-with-pyte.md and result/2026-02-05_pull-and-fix-with-pyte.md.
- Record reset/pull/execute task instructions in instructions/2026-02-05_reset-and-execute-pyte.md.

## 2026-02-03
- Add agent guidance files and direct tools to `AGENTS.md`.
- Update `AGENTS.md` to define instruction/result output locations.
- Update `AGENTS.md` to require appending future rules here.
- Add task instruction file for technical verification (latency focus).
- Note `instructions/` and `result/` are for AI/CLI sharing via GitHub.
- Add task instruction file to clarify `-yolo` expectation and next-step order.
- Enforce workspace root for Gemini CLI execution and add `-yolo` flag.
- Add `scripts/measure_server.ps1` to measure server startup and prompt latency.
- Append Codex CLI handoff update summary to `handoff.md`.
- Add spec review instruction and result artifacts.
- Update spec review result with readable UTF-8 review and findings.
- Clarify workspace-only access restriction in spec.
- Make gemini-cli-core optional with path discovery and coreAvailable status reporting.
- Capture measure_server.ps1 results (timeout; health OK, prompt failed).
- Make measure_server.ps1 configurable and more reliable with timeouts and cleanup.
- Fix measure_server.ps1 param placement and rerun measurement (prompt still failing).
- Diagnose /prompt failure and quote prompts to avoid positional-arg conflict.
- Make measure_server.ps1 run from any directory and capture new timing output.
- Make measure_server.ps1 persist results to result/ automatically.
- Fix measure_server.ps1 parse error caused by backticks in a double-quoted string.
- Add WorkspaceSandbox implementation and verification script with results.
- Add reparse point verification script and record WorkspaceSandbox denial results.
- Add WorkspaceSandbox unit tests and record unittest results.
- Add long-running verification script and capture timeout/cancel results.
- Add /prompt timeout handling, request IDs, and /cancel endpoint.
- Update long-running verification script to use /cancel when possible.
- Ensure /cancel records a completed result for /prompt/result.
- Reflect long-running timeout/cancel and async prompt workflow in spec.
- Add strict operations parser with unit tests.
- Add audit logging and operation executor stubs with tests.
- Add minimal PySide6 GUI skeleton (app.py).
- Wire GUI to async prompt flow with cancel support.
- Add operations approval UI with preview table in GUI.
- Wire approval action to OperationExecutor with audit logging.
- Implement real operation execution (read/write/move/copy/mkdir/delete/zip/unzip) with tests.
- Enhance GUI approval to show execution results and add debug logging.
- Show per-operation error/detail columns in GUI.
- Add risk highlighting for dangerous ops and error summarization in GUI.
- Add confirmation dialog for dangerous operations before execution.
- Add GUI log viewer panel for gui/audit logs.
- Fix missing Path import in app.py after log viewer addition.
- Refresh GUI layout with styled sections and header.
- Revise GUI into beginner-friendly tabs with workspace selector and guide.
- Fix workspace initialization ordering for new GUI tabs.
- Redesign GUI to match image.png layout: sidebar + main area, Japanese UI, no CLI control buttons.
- Auto-start server on launch, gate Send by health check, and localize menu labels.
- Fix GUI result polling and update status indicator on request start.
- Add cancel button and show requestId during responses.
- Mark M0-4 WorkspaceSandbox verification as complete in spec.md.
- Record YOLO expectation and risk analysis in result/2026-02-03_task-03.md.
- Increase default GUI prompt timeout for long responses.
- Send selected workspace as workingDir in prompt payload.
- Add log output mode selector (none/error/all) in GUI.
- Move log mode selection to startup option (--log-mode).
- Add --help/--? startup options for log mode.
- Add VBScript SendKeys GUI smoke test script.
- Add mnemonic accelerators (Alt shortcuts) to menus and buttons.
- Add SendKeys smoke test script for GUI automation.
- Improve SendKeys smoke test with PID-based AppActivate retry.
- Start app inside SendKeys smoke test script.
- Add logging and UTF-8 encoding to SendKeys smoke test script.
- Fix SendKeys script encoding to avoid VBScript invalid character errors.
- Rename SendKeys smoke test to scripts/smoke.vbs and update handoff.
- Require reading handoff.md before continuing work.
